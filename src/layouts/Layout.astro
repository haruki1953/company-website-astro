---
import "@/styles/main.css";
import "@/styles/vendor/aos.css";
import { webName } from "@/config";

interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" href="/favicon.ico" type="image/x-icon" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>

		<!-- Google Font -->
		<link
			href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,600,800"
			rel="stylesheet"
		/>

		<!-- Font Awesome Icons -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
		/>
	</head>
	<body>
		<nav class="topnav navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
			<div class="container-fluid">
				<a class="navbar-brand" href="/"><strong>{webName}</strong></a>
				<button
					class="navbar-toggler collapsed"
					type="button"
					data-toggle="collapse"
					data-target="#navbarColor02"
					aria-controls="navbarColor02"
					aria-expanded="false"
					aria-label="Toggle navigation"
				>
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="navbar-collapse collapse" id="navbarColor02">
					<ul class="navbar-nav mr-auto d-flex align-items-center">
						<li class="nav-item">
							<a class="nav-link" href="/page/aboutus">关于我们</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/page/project">项目</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/page/news">新闻</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/page/service">服务</a>
						</li>
						<!-- <li class="nav-item">
							<a class="nav-link" href="/page/product">产品</a>
						</li> -->
						<li class="nav-item">
							<a class="nav-link" href="/page/honour">照片墙</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/page/connect">联系我们</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		<slot />
		<footer class="bg-black pb-5 pt-5">
			<div class="container">
				<div class="row ml-2 mr-2">
					<div class="col-12 col-md">
						<div class="copyright-box mb-4">
							<i class="fas fa-copyright text-white"></i>
							<small class="ml-1 text-muted">
								<script is:inline>
									document.write(String(new Date().getFullYear()));
								</script>
								{webName}
							</small>
							<style>
								.copyright-box {
									display: flex;
									justify-content: center;
									align-items: center;
								}
							</style>
						</div>
					</div>
					<div class="col-6 col-md">
						<h5 class="mb-4 text-white">About</h5>
						<ul class="list-unstyled text-small">
							<li>
								<a class="text-muted" href="/page/aboutus">About us</a>
							</li>
							<li>
								<a class="text-muted" href="/page/project">Project</a>
							</li>
							<li><a class="text-muted" href="/page/news">News</a></li>
							<li>
								<a class="text-muted" href="/page/connect">Connect</a>
							</li>
						</ul>
					</div>
					<div class="col-6 col-md">
						<h5 class="mb-4 text-white">Other</h5>
						<ul class="list-unstyled text-small">
							<li>
								<a class="text-muted" href="/page/connect"> 微信 </a>
							</li>
							<li>
								<a class="text-muted" href=""> 公众号 </a>
							</li>
							<li>
								<a class="text-muted" href=""> 微博 </a>
							</li>
							<li>
								<a class="text-muted" href=""> 抖音 </a>
							</li>
						</ul>
					</div>
				</div>

				<div class="row mt-4">
					<div class="col-12 text-center">
						<span class="w-16px flex-shrink-0 mr-1" data-v-6da4074f="">
							<img
								src="/beiantubiao.png"
								class="w-full"
								style="width: 16px;"
								alt=""
							/>
						</span>
						<a
							href="https://beian.mps.gov.cn/#/query/webSearch?code=10000000000000"
							rel="noreferrer"
							target="_blank"
						>
							京公网安备10000000000000
						</a>
						<a href="https://beian.miit.gov.cn/" target="_blank">
							京ICP备2024000000号-1
						</a>
					</div>
				</div>
			</div>
		</footer>

		<script
			is:inline
			src="/assets/js/vendor/jquery.min.js"
			type="text/javascript"></script>
		<script
			is:inline
			src="/assets/js/vendor/popper.min.js"
			type="text/javascript"></script>
		<script
			is:inline
			src="/assets/js/vendor/bootstrap.min.js"
			type="text/javascript"></script>
		<script is:inline src="/assets/js/vendor/share.js" type="text/javascript"
		></script>
		<script is:inline src="/assets/js/functions.js" type="text/javascript"
		></script>

		<!-- Animation -->
		<script is:inline src="/assets/js/vendor/aos.js" type="text/javascript"
		></script>
		<noscript>
			<style>
				*[data-aos] {
					display: block !important;
					opacity: 1 !important;
					visibility: visible !important;
				}
			</style>
		</noscript>
		<script is:inline>
			AOS.init({
				duration: 700,
			});
		</script>

		<!-- Disable animation on less than 1200px, change value if you like -->
		<script is:inline>
			AOS.init({
				disable: function () {
					var maxWidth = 1200;
					return window.innerWidth < maxWidth;
				},
			});
		</script>

		<!-- Carousel Height Smooth -->
		<script is:inline>
			$(".carousel").on("slide.bs.carousel", function (event) {
				var height = $(event.relatedTarget).height();
				var $innerCarousel = $(event.target).find(".carousel-inner");
				$innerCarousel.animate({
					height: height,
				});
			});
		</script>

		<!-- Popovers -->
		<script is:inline>
			$(function () {
				$('[data-toggle="popover"]').popover();
			});
			$(".popover-dismiss").popover({
				trigger: "focus",
			});
		</script>

		<!-- Tooltips -->
		<script is:inline>
			$(function () {
				$('[data-toggle="tooltip"]').tooltip();
			});
		</script>

		<!-- 懒加载 -->
		<script is:inline>
			// 加载需要懒加载的图片
			function loadLazyImg() {
				// 对于每个带有 lazy-load 类的图片元素
				$(".lazy-load").each(function () {
					// 如果图片元素进入了可视区域
					if (
						$(this).offset().top <
						window.innerHeight + $(window).scrollTop()
					) {
						// 加载图片
						$(this).attr("src", $(this).data("lazy-src"));
						// 移除 lazy-load 类，避免重复加载
						$(this).removeClass("lazy-load");
					}
				});
			}
			$(document).ready(function () {
				// 页面加载完毕时进行一次加载图片
				loadLazyImg();
				// 当页面滚动时
				$(window).on("scroll", function () {
					loadLazyImg();
				});
			});
		</script>
	</body>
</html>
